---
// Spoiler component - reveals hidden text on click
---

<span
    class="spoiler inline-block cursor-pointer select-none rounded px-1 transition-colors"
    style="background: var(--color-text-primary); color: var(--color-text-primary);"
>
    <slot />
</span>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".spoiler").forEach((spoiler) => {
            spoiler.addEventListener("click", (event) => {
                const target = event.currentTarget as HTMLElement;
                target.classList.toggle("revealed");
                target.style.color = target.classList.contains("revealed")
                    ? "var(--color-bg-surface)"
                    : "var(--color-text-primary)";
            });
        });
    });
</script> 
