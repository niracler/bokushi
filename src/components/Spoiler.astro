---
// Astro component script (runs on server)
---
<span
	class="spoiler inline-block cursor-pointer select-none rounded px-1 transition-colors"
	style="background: var(--color-text-primary); color: var(--color-text-primary);"
>
  <slot />
</span>

<script>
  // Client-side script (runs in browser)
  document.addEventListener('DOMContentLoaded', function() {
    const spoilers = document.querySelectorAll('.spoiler');
    
    spoilers.forEach(spoiler => {
      spoiler.addEventListener('click', function(event) {
        const target = event.currentTarget as HTMLElement;
        target.classList.toggle('revealed');
        target.style.color = target.classList.contains('revealed')
          ? 'var(--color-bg-surface)'
          : 'var(--color-text-primary)';
      });
    });
  });
</script> 
