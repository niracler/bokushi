---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Prose from "../components/Prose.astro";
import Remark42Comments from "../components/Remark42Comments.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

const { frontmatter = {} } = Astro.props as { frontmatter?: Record<string, unknown> };
const { comments: commentsEnabled, description: pageDescription, title } = frontmatter as {
	comments?: boolean;
	description?: string;
	title?: string;
};
const pageTitle = title ? `${title} Â· ${SITE_TITLE}` : SITE_TITLE;
const description = pageDescription || SITE_DESCRIPTION;
---

<!doctype html>
<html lang="zh-CN">
	<head>
		<BaseHead title={pageTitle} description={description} />
	</head>
	<body>
		<Header />
		<main class="mx-auto max-w-3xl space-y-10 px-4 py-10 sm:space-y-12 sm:py-14">
			<Prose class="max-w-none text-[var(--color-text-secondary)]">
				<slot />
			</Prose>

			{commentsEnabled && <Remark42Comments />}
		</main>
		<Footer />
	</body>
</html>
